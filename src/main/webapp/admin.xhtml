<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>ADMIN</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
        <style>
            .col{
                text-align: center;
            }
        </style>
    </h:head>
    <h:body>
        <p:panel header="ADMINISTRACIÓN">
            <h:form>

                <p:growl>
                    <p:autoUpdate />
                </p:growl>

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Título Bingo" />
                    </f:facet>
                    <p:inputText value="#{displayController.titulo}"
                                 style="width: 98%"
                                 />
                    <p:commandButton
                        icon="fa fa-pencil"
                        value="Actualizar"
                        action="#{adminController.actualizarTitulo()}"
                        />
                </p:panelGrid>

                <p:spacer height="10px" />

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Bloquear Generador de Cartones" />
                    </f:facet>

                    <p:toggleSwitch value="#{cartonFactory.bloqueado}">
                        <p:ajax listener="#{adminController.actualizarBloqueo()}" />
                    </p:toggleSwitch>

                </p:panelGrid>

                <p:spacer height="10px" />

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Reiniciar Tablero" />
                    </f:facet>

                    <p:commandButton
                        icon="fa fa-refresh"         
                        value="Reiniciar" 
                        action="#{adminController.actualizarTablero()}"
                        />
                </p:panelGrid>

                <p:spacer height="10px" />

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Reiniciar Cartones" />
                    </f:facet>

                    <p:commandButton
                        icon="fa fa-file-text-o"         
                        value="Reiniciar (#{cartonFactory.cantidadUsuarios})" 
                        actionListener="#{cartonFactory.reset()}" 
                        action="#{adminController.actualizarCartones()}"
                        update="@this"
                        />
                </p:panelGrid>
                
                <p:spacer height="10px" />

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Rifa" />
                    </f:facet>

                    <p:commandButton
                        icon="fa fa-file-text-o"         
                        value="Iniciar Sorteo (#{rifaController.cantidadUsuarios})" 
                        action="#{adminController.sortearRifa()}"
                        update="@this"
                        />
                </p:panelGrid>


            </h:form>

        </p:panel>
    </h:body>
</html>

