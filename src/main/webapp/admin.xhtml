<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>ADMIN</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
        <style>
            .col{
                text-align: center;
            }
        </style>
    </h:head>
    <h:body>
        <p:panel header="ADMINISTRACIÓN">
            <h:form>

                <p:growl>
                    <p:autoUpdate />
                </p:growl>

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Título Juego" />
                    </f:facet>
                    <p:inputText id="titulo" value="#{cnf.titulo}"
                                 style="width: 98%"
                                 />
                    <p:commandButton
                        icon="fa fa-pencil"
                        value="Actualizar"
                        action="#{adminController.actualizarTitulo()}"
                        process="titulo"
                        />
                </p:panelGrid>

                <p:spacer height="10px" />

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Modo Juego" />
                    </f:facet>

                    <p:selectOneButton value="#{cnf.modo}"
                                       required="true"
                                       >
                        <f:selectItems value="#{adminController.lstModo}" />
                        <p:ajax listener="#{adminController.actualizarModo()}"
                                update="pnlModo"
                                />
                    </p:selectOneButton>

                </p:panelGrid>

                <p:spacer height="10px" />

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Bloquear" />
                    </f:facet>

                    <p:toggleSwitch value="#{cnf.bloqueado}">
                        <p:ajax listener="#{adminController.actualizarBloqueo()}" />
                    </p:toggleSwitch>

                </p:panelGrid>

                <p:spacer height="10px" />

                <p:panelGrid columns="1" columnClasses="col" style="width: 100%">
                    <f:facet name="header">
                        <h:outputText value="Reiniciar Tablero" />
                    </f:facet>

                    <p:commandButton
                        icon="fa fa-refresh"         
                        value="Reiniciar" 
                        action="#{adminController.actualizarTablero()}"
                        />
                </p:panelGrid>

                <p:spacer height="10px" />

                <h:panelGroup id="pnlModo">

                    <p:panelGrid columns="1" columnClasses="col" style="width: 100%"
                                 rendered="#{cnf.modoBingo}"
                                 >
                        <f:facet name="header">
                            <h:outputText value="Reiniciar Cartones" />
                        </f:facet>

                        <p:commandButton
                            icon="fa fa-file-text-o"         
                            value="Reiniciar (#{cartonFactory.cantidadUsuarios})" 
                            actionListener="#{cartonFactory.reset()}" 
                            action="#{adminController.actualizarCartones()}"
                            update="@this"
                            />
                    </p:panelGrid>

                    <p:panelGrid columns="1" columnClasses="col" style="width: 100%"
                                 rendered="#{cnf.modoRifa}"
                                 >
                        <f:facet name="header">
                            <h:outputText value="Dimensiones de la Rifa" />
                        </f:facet>
                        <h:panelGrid columns="4" style="width: 100%">
                            <h:outputText value="Fils" />
                            <p:inputText id="filas" value="#{cnf.filas}"
                                         style="width: 50px"                                           
                                         />

                            <h:outputText value="Cols" />
                            <p:inputText id="columnas" value="#{cnf.columnas}" 
                                         style="width: 50px"                                           
                                         />
                        </h:panelGrid>

                        <p:commandButton
                            icon="fa fa-pencil"
                            value="Actualizar"
                            action="#{adminController.actualizarDimensiones()}"
                            process="filas columnas"
                            />
                    </p:panelGrid>

                    <p:spacer height="10px" />

                    <p:panelGrid columns="1" columnClasses="col" style="width: 100%"
                                 rendered="#{cnf.modoRifa}"
                                 >
                        <f:facet name="header">
                            <h:outputText value="Sorteo Rifa" />
                        </f:facet>

                        <p:commandButton
                            icon="fa fa-file-text-o"         
                            value="Iniciar (#{rifaController.cantidadUsuarios})" 
                            action="#{adminController.sortearRifa()}"
                            update="@this"
                            />
                    </p:panelGrid>

                </h:panelGroup>

            </h:form>

        </p:panel>
    </h:body>
</html>

